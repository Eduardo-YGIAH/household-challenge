(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{2:function(e,t){t.updateUserStateAndStorage=function(e,t){localStorage.setItem("userObj",JSON.stringify(t)),e(t)},t.isAuthenticated=function(){return JSON.parse(localStorage.getItem("userObj"))},t.logout=function(){localStorage.removeItem("userObj")}},40:function(e,t,a){e.exports=a(95)},45:function(e,t,a){},46:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(31),l=a.n(s),c=(a(45),a(46),a(3)),i=Object(n.createContext)({household:{},setHousehold:function(){}}),o=function(e){var t=Object(n.useState)({title:"",owner:"",challenges:[]}),a=Object(c.a)(t,2),s={household:a[0],setHousehold:a[1]};return r.a.createElement(i.Provider,{value:s},e.children)},u=(i.Consumer,a(1)),m=(a(53),a(54),a(2)),d=Object(n.createContext)({user:{},setUser:function(){},logout:function(){}}),h=function(e){var t={isAuthenticated:!1,_id:null,name:null,email:null,token:null};var a=Object(n.useState)(t),s=Object(c.a)(a,2),l=s[0],i=s[1],o={user:l,setUser:i,logout:function(){m.logout(),i(t)}};return r.a.createElement(d.Provider,{value:o},e.children)};d.Consumer;function g(){var e=Object(n.useContext)(d).user;return r.a.useEffect((function(){}),[e]),e.isAuthenticated?r.a.createElement("div",{className:"nav-container"},r.a.createElement("div",{className:"nav-container-links"},r.a.createElement("div",{className:"burger"},r.a.createElement("div",{className:"burger-line1"}),r.a.createElement("div",{className:"burger-line2"}),r.a.createElement("div",{className:"burger-line3"})),r.a.createElement("div",{className:"avatar"},r.a.createElement(u.a,{to:"/profile"},r.a.createElement("img",{src:e.avatar&&""!==e.avatar?e.avatar:"https://res.cloudinary.com/ygiah/image/upload/v1579778125/Avatars/image_11.jpg",alt:"user avatar",className:"avatar-image"}))))):r.a.createElement("div",{className:"nav-container"},r.a.createElement("div",{className:"nav-container-links"},r.a.createElement("div",{className:"logo"},r.a.createElement(u.a,{to:"/"},r.a.createElement("img",{src:"https://res.cloudinary.com/ygiah/image/upload/v1583849791/Household-Challenge/icon.png",alt:"logo",className:"logo-img"}))),r.a.createElement("div",{className:"nav-link"},r.a.createElement(u.a,{to:"/about"},"About"))))}a(55),a(56);function v(e){var t=e.btn,a=function(){switch(t.style){case"small-danger":return"btn btn-danger btn-small";case"danger":return"btn btn-danger";case"large-danger":return"btn btn-large btn-danger";case"small-secondary":return"btn btn-small btn-secondary";case"secondary":return"btn btn-secondary";case"large-secondary":return"btn btn-secondary btn-large";case"small":return"btn btn-small";case"large":return"btn btn-large";default:return"btn"}};return t.link?r.a.createElement(u.a,{to:t.link},r.a.createElement("button",{className:a()},t.label)):r.a.createElement("button",{onClick:t.onclick,className:a()},t.label)}function f(){var e=r.a.useContext(d),t=e.user,a=e.setUser;r.a.useEffect((function(){if(m.isAuthenticated()&&!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}}));var n=r.a.createElement(v,{btn:{label:"Current Challenge",link:"/current-challenge",style:"large"}}),s=r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{btn:{label:"Sign Up",link:"/register",style:""}}),r.a.createElement("div",{className:"landing-btn-spacer"}),r.a.createElement(v,{btn:{label:"Login",link:"/login",style:"secondary"}}));return r.a.createElement("div",{className:"main-container"},r.a.createElement("h1",{className:"landing-heading"},"Welcome",r.a.createElement("br",null),"to the",r.a.createElement("br",null),"Household Challenge"),r.a.createElement("div",{className:"landing-callToAction"},t.isAuthenticated?n:s))}a(57);function p(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About Page"))}var b=a(13),E=a.n(b),N=a(17),O=(a(59),a(9)),k=a(4),j=function(e,t){var a=Object(n.useState)(e),r=Object(c.a)(a,2),s=r[0],l=r[1];return{handleSubmit:function(e){e&&(e.preventDefault(),t())},handleInputChange:function(e){e.persist(),l((function(t){return Object(k.a)({},t,Object(O.a)({},e.target.name,e.target.value))}))},inputs:s}};function w(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser;r.a.useEffect((function(){if(!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}t.isAuthenticated&&(t.isOwner.length>0?Object(u.c)("/members"):t.isMemberOf.length>0?Object(u.c)("/member-welcome"):Object(u.c)("/welcome"))}));var s=j({email:"",password:""},function(){var e=Object(N.a)(E.a.mark((function e(){var n,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l.email,password:l.password})});case 2:return e.next=4,e.sent.json();case 4:n=e.sent,console.log(n),n.token?(r={isAuthenticated:!0,_id:n.user._id,name:n.user.name,email:n.user.email,token:n.token,avatar:n.user.avatar||"",isOwner:n.user.isOwner,isMemberOf:n.user.isMemberOf},m.updateUserStateAndStorage(a,r),t.isAuthenticated&&(t.isOwner.length>0?Object(u.c)("/members"):t.isMemberOf.length>0?Object(u.c)("/portfolio"):Object(u.c)("/welcome"))):console.log(n.error);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),l=s.inputs,c=s.handleInputChange,i=s.handleSubmit;return r.a.createElement("div",{className:"signup-form-container"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:i,className:"signup-form"},r.a.createElement("div",{className:"signup-form-group"},r.a.createElement("label",null,"Email Address"),r.a.createElement("input",{type:"email",name:"email",onChange:c,value:l.email,required:!0})),r.a.createElement("div",{className:"signup-form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password",onChange:c,value:l.password})),r.a.createElement("button",{className:"btn",type:"submit"},"Login")),r.a.createElement("div",{className:"link"},r.a.createElement(u.a,{to:"/register"},"Sign Up instead")))}a(60);var A=function(e,t,a){var n=r.a.useState(e),s=Object(c.a)(n,2),l=s[0],i=s[1],o=r.a.useState({}),u=Object(c.a)(o,2),m=u[0],d=u[1],h=r.a.useState(!1),g=Object(c.a)(h,2),v=g[0],f=g[1];return r.a.useEffect((function(){if(v){if(!(0===Object.keys(m).length))return;f(!1)}}),[m]),{handleSubmit:function(n){n.preventDefault();var r=t(l);d(r),f(!0),0===Object.keys(m).length&&l!==e?(a(),i(e)):console.log("NOT ALLOWED")},handleChange:function(e){i(Object(k.a)({},l,Object(O.a)({},e.target.name,e.target.value)));var a=t(l);d(a),0===Object.keys(m).length&&f(!1)},handleBlur:function(){var e=t(l);d(e)},values:l,errors:m,isSubmitting:v}};function y(e){var t={};return e.firstName||(t.firstName="First name required"),e.lastName||(t.lastName="Last name required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required Email",e.password?e.password.length<6&&(t.password="Password must be at least 6 characters"):t.password="Required Password",e.password2?e.password!==e.password2&&(t.password2="Passwords do not match"):t.password2="Required Matching Password",t}var S=a(6),_=a.n(S),C={firstName:"",lastName:"",email:"",password:"",password2:""};function x(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser;r.a.useEffect((function(){if(!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}t.isAuthenticated&&Object(u.c)("/welcome")}));var s=A(C,y,(function(){var e={name:"".concat(o.firstName," ").concat(o.lastName),email:o.email,password:o.password};_.a.post("/api/users",e).then((function(e){if(console.log(e.data),201===e.status){var n={isAuthenticated:!0,_id:e.data.user._id,name:e.data.user.name,email:e.data.user.email,token:e.data.token,isMemberOf:e.data.user.isMemberOf,isOwner:e.data.user.isOwner};m.updateUserStateAndStorage(a,n)}t.isAuthenticated?Object(u.c)("/welcome"):Object(u.c)("/login")})).catch((function(e){console.log(e)}))})),l=s.handleSubmit,c=s.handleChange,i=s.handleBlur,o=s.values,h=s.errors,g=s.isSubmitting;return r.a.createElement("div",{className:"signup-form-container"},r.a.createElement("h1",null,"Signup Page"),r.a.createElement("form",{onSubmit:l,className:"signup-form"},r.a.createElement("div",{className:"signup-form-group"},r.a.createElement("label",null,"First Name"),h.firstName&&r.a.createElement("p",{className:"error-text"},h.firstName),r.a.createElement("input",{className:h.firstName&&"error-input",type:"text",name:"firstName",onBlur:i,onChange:c,value:o.firstName}),r.a.createElement("label",null,"Last Name"),h.lastName&&r.a.createElement("p",{className:"error-text"},h.lastName),r.a.createElement("input",{className:h.lastName&&"error-input",type:"text",name:"lastName",onBlur:i,onChange:c,value:o.lastName})),r.a.createElement("div",{className:"signup-form-group"},r.a.createElement("label",null,"Email Address"),h.email&&r.a.createElement("p",{className:"error-text"},h.email),r.a.createElement("input",{autoComplete:"off",className:h.email&&"error-input",type:"email",name:"email",onBlur:i,onChange:c,value:o.email})),r.a.createElement("div",{className:"signup-form-group"},r.a.createElement("label",null,"Password"),h.password&&r.a.createElement("p",{className:"error-text"},h.password),r.a.createElement("input",{type:"password",name:"password",onChange:c,value:o.password,onBlur:i,autoComplete:"off",className:h.password&&"error-input"})),r.a.createElement("div",{className:"signup-form-group"},r.a.createElement("label",null,"Re-enter Password"),h.password2&&r.a.createElement("p",{className:"error-text"},h.password2),r.a.createElement("input",{autoComplete:"off",type:"password",name:"password2",onBlur:i,onChange:c,value:o.password2,className:h.password2&&"error-input"})),r.a.createElement("button",{disabled:g,className:"btn",type:"submit"},"Sign Up")),r.a.createElement("div",{className:"link"},r.a.createElement(u.a,{to:"/login"},"Login instead")))}a(78);function D(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser,s=e.logout;r.a.useEffect((function(){if(t.isAuthenticated||m.isAuthenticated()||Object(u.c)("/login"),!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}}));var l={label:"Logout",link:null,style:"danger",onclick:s};return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"heading"},"What would you like to do ",t.name,"?"),r.a.createElement("h3",{className:"heading"},"Join an existing Household or create a new one?"),r.a.createElement("div",{className:"landing-callToAction"},r.a.createElement(v,{btn:{label:"Join",link:"/join-household",style:"",onclick:null}}),r.a.createElement("div",{className:"landing-btn-spacer"}),r.a.createElement(v,{btn:{label:"Create",link:"/create-household",style:"",onclick:null}})),r.a.createElement(v,{btn:l}))}var T=function(e){var t=e.initialValues,a=e.onSubmit,n=e.validate,s=r.a.useState(t||{}),l=Object(c.a)(s,2),i=l[0],o=l[1],u=r.a.useState({}),m=Object(c.a)(u,2),d=m[0],h=m[1],g=r.a.useState({}),v=Object(c.a)(g,2),f=v[0],p=v[1];return{values:i,imagePreview:d,errors:f,inputHandler:function(e){var t=e.target.files[0];if(t){var a=e.target.name;o(Object(O.a)({},a,{file:t})),function(e,t){var a=new FileReader;a.readAsDataURL(e),a.onloadend=function(e){return t(a.result)}}(t,(function(e){h({previewImgUrl:e})}))}},submitHandler:function(e){e.preventDefault();var t=n(i);p(Object(k.a)({},f,{},t)),a({values:i,e:t})}}};a(79);function P(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser,s=T({initialValues:{avatar:""},onSubmit:function(e,n){if(n)console.log(n);else{var r=new FormData;r.append("avatar",e.values.avatar.file),_.a.patch("/api/users/me/avatar",r,{headers:{"Content-Type":"form-data",Authorization:"Bearer ".concat(t.token)}}).then((function(e){if(200===e.status){var n=e.data.avatar;a(Object(k.a)({},t,{avatar:n}))}else console.log(e)})).catch(console.log)}},validate:function(e){var t={};return""===e.avatar&&(t.title="Please select a file"),t}}),l=s.inputHandler,c=s.submitHandler,i=s.imagePreview;return Object(n.useEffect)((function(){if(m.isAuthenticated()||Object(u.c)("/login"),!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}t.isAuthenticated&&m.isAuthenticated()&&localStorage.setItem("userObj",JSON.stringify(t))})),r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"heading"},"Hello ",t.name," This is your Profile Page"),r.a.createElement("div",{className:"profile"},r.a.createElement("img",{src:i.previewImgUrl?i.previewImgUrl:t.avatar?t.avatar:"https://res.cloudinary.com/ygiah/image/upload/v1579778124/Avatars/image_5.jpg",alt:"user avatar",className:"profile-avatar-image"}),r.a.createElement("div",{style:{height:"20px",width:"100%"}}),r.a.createElement("div",{className:"form-uploader-container"},r.a.createElement("form",{onSubmit:c,className:"form-uploader"},r.a.createElement("label",{htmlFor:"avatar",className:"btn btn-large btn-secondary"},"Select your Profile image"),r.a.createElement("div",{style:{height:"20px",width:"100%"}}),r.a.createElement("input",{name:"avatar",id:"avatar",type:"file",onChange:l,style:{opacity:0,position:"absolute",pointerEvents:"none",width:"1px",height:"1px"}}),r.a.createElement("div",{style:{height:"20px",width:"100%"}}),r.a.createElement("button",{className:"btn"},"Save Avatar")))))}var U=function(e){var t=e.initialValues,a=e.onSubmit,n=e.validate,s=r.a.useState(t||{}),l=Object(c.a)(s,2),i=l[0],o=l[1],u=r.a.useState({}),m=Object(c.a)(u,2),d=m[0],h=m[1],g=r.a.useState({}),v=Object(c.a)(g,2),f=v[0],p=v[1];return{values:i,touchedValues:d,errors:f,handleChange:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;o(Object(k.a)({},i,Object(O.a)({},n,a)))},handleSubmit:function(e){e.preventDefault();var t=n(i);p(Object(k.a)({},f,{},t)),a({values:i,e:t})},handleBlur:function(e){var t=e.target.name;h(Object(k.a)({},d,Object(O.a)({},t,!0)));var a=n(i);p(Object(k.a)({},f,{},a))}}};function I(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser,s=U({initialValues:{title:""},onSubmit:function(e,n){if(n)console.log(n);else{var r={headers:{Authorization:"Bearer ".concat(t.token)}},s={isOwner:[{title:e.values.title,owner:t._id,challenges:[]}]};_.a.post("/api/household",s,r).then((function(e){if(console.log("Good",e.data.user),201===e.status){var t=e.data.token,n=Object(k.a)({isAuthenticated:!0},e.data.user,{token:t});a(n),localStorage.setItem("userObj",JSON.stringify(n)),Object(u.c)("/members")}else console.log("ERROR",e)})).catch((function(e){console.log(e)}))}},validate:function(e){var t={};return""===e.title&&(t.title="Please enter a name"),t}}),l=s.values,c=s.handleChange,i=s.handleSubmit;return r.a.useEffect((function(){if(m.isAuthenticated()||Object(u.c)("/login"),!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}})),r.a.createElement("div",{className:"signup-form-container"},r.a.createElement("h1",null,"Create a Household"),r.a.createElement("form",{onSubmit:i,className:"signup-form"},r.a.createElement("div",{className:"signup-form-group"},r.a.createElement("label",{htmlFor:"title"},"Household Name"),r.a.createElement("input",{type:"text",name:"title",onChange:c,value:l.title,required:!0})),r.a.createElement("button",{className:"btn",type:"submit"},"Create")),r.a.createElement("div",{className:"link"},r.a.createElement(u.a,{to:"../"},"Cancel")))}a(80);function R(e){var t=e.name,a=e.email;return r.a.createElement("div",{className:"card__member"},r.a.createElement("div",{className:"card__member-body"},r.a.createElement("img",{className:"card__member-avatar",src:"https://res.cloudinary.com/ygiah/image/upload/v1584371821/bsqweejlwsx8zs5nqhek.jpg",alt:"#"}),r.a.createElement("div",{className:"card__member-details"},r.a.createElement("h4",{className:"card_member-name"},t),r.a.createElement("p",{className:"card__member-email"},a))),r.a.createElement(v,{btn:{label:"Remove",link:"#",onclick:function(){},style:"small-danger"}}))}a(81);function J(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser,s=JSON.parse(localStorage.getItem("userObj")).token,l={headers:{Authorization:"Bearer ".concat(s)}};r.a.useEffect((function(){if(t.isAuthenticated||m.isAuthenticated()||Object(u.c)("/login"),!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}if(t.isAuthenticated){!function(){var e=t.isOwner[0]._id;fetch("/api/household/members/list/".concat(e),l).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){console.log(e)}))}()}}));if(t.isAuthenticated){if(t.isOwner||Object(u.c)("/welcome"),t.isOwner[0]||Object(u.c)("/create-household"),t.isOwner.length>0){var c=t.isOwner.length-1,i=t.isOwner[c].title,o=t.isOwner[c].members;return r.a.createElement("div",null,r.a.createElement("h1",null,"Members"),r.a.createElement("p",null,i),o.map((function(e){return r.a.createElement(R,{key:o.indexOf(e),name:e.name,email:e.email})})),r.a.createElement("div",{className:"line__seperator"}),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement(v,{btn:{label:"Invite Member",link:"#",onclick:function(){},style:"secondary"}}),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement(v,{btn:{label:"Create Challenge",link:"/create-challenge",onclick:function(){},style:"large"}}))}if(t.isMemberOf.length>0){var h=t.isMemberOf.length-1,g=t.isMemberOf[h].title,f=t.isMemberOf[h].members;return r.a.createElement("div",null,r.a.createElement("h1",null,"Members"),r.a.createElement("p",null,g),f.map((function(e){return r.a.createElement(R,{key:f.indexOf(e),name:e.name,email:e.email})})))}}else setTimeout((function(){Object(u.c)("/login")}),5e3);return r.a.createElement("div",null,"Loading...! ",r.a.createElement("br",null)," Authenticating...!")}a(82),a(83);var M=a(33);function B(e){var t=e.state,a=e.setState;return r.a.createElement(M.DateRange,{editableDateInputs:!0,onChange:function(e){return a([e.selection])},moveRangeOnFirstSelection:!1,ranges:t})}function F(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser,s=Object(n.useState)([{startDate:new Date,endDate:null,key:"selection"}]),l=Object(c.a)(s,2),i=l[0],o=l[1];Object(n.useEffect)((function(){if(m.isAuthenticated()||Object(u.c)("/login"),!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}}));var h={label:"Create Challenge And Add Tasks",onclick:function(){if(i[0].startDate<Date.now()){var e={past:"You can't set a challenge to be in the past"};return alert(e.past),void(e={})}var n={headers:{Authorization:"Bearer ".concat(t.token)}},r=i[0],s={startDate:r.startDate,endDate:r.endDate};_.a.post("/api/challenge",s,n).then((function(e){if(console.log("Good",e.data.user),201===e.status){var t=e.data.token,n=Object(k.a)({isAuthenticated:!0},e.data.user,{token:t});a(n),localStorage.setItem("userObj",JSON.stringify(n)),Object(u.c)("/create-task")}else console.log("ERROR",e)})).catch((function(e){console.log(e)}))},style:"large"};return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Create a Challenge"),r.a.createElement("h3",null,"Set Up the Start and End Date"),r.a.createElement(B,{state:i,setState:o}),r.a.createElement(v,{btn:h}))}var L=a(37);a(90);function q(e){var t=e.saveTodo,a=Object(n.useState)(""),s=Object(c.a)(a,2),l=s[0],i=s[1];return r.a.createElement("div",null,r.a.createElement("form",{className:"signup-form",onSubmit:function(e){e.preventDefault(),t(l),i("")}},r.a.createElement("div",{className:"signup-form-group"},r.a.createElement("label",{htmlFor:"checklist_items"},"Add checklist items"),r.a.createElement("input",{type:"text",name:"checklist_items",onChange:function(e){i(e.target.value)},value:l,required:!0}),r.a.createElement("button",{type:"submit",className:"btn btn-small"},"Add Todo"))))}function H(e){var t=e.todos,a=e.deleteTodo;return r.a.createElement("div",null,r.a.createElement("ul",null,t.map((function(e,t){return r.a.createElement("li",{key:t.toString(),className:"todo"},r.a.createElement("div",{className:"todo-container"},r.a.createElement("p",{className:"todo-description"},e),r.a.createElement("div",{className:"icon-small",onClick:function(){a(t)}},r.a.createElement("i",{className:"fas fa-trash-alt"}))))}))))}function z(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser,s=Object(n.useState)([]),l=Object(c.a)(s,2),i=l[0],o=l[1];r.a.useEffect((function(){if(t.isAuthenticated||m.isAuthenticated()||Object(u.c)("/login"),!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}}));var h=U({initialValues:{title:"",description:"",points:""},onSubmit:function(e,n){if(n)alert(JSON.stringify({values:e,errors:n},null,2));else{var r={headers:{Authorization:"Bearer ".concat(t.token)}},s={title:e.values.title,description:e.values.description,todos:i,points:Number(e.values.points)};_.a.post("/api/task",s,r).then((function(e){if(201===e.status){console.log("USER",e.data.user);var t=e.data.token,n=Object(k.a)({isAuthenticated:!0},e.data.user,{token:t});a(n),localStorage.setItem("userObj",JSON.stringify(n)),Object(u.c)("/task-details")}else console.log("ERROR",e)})).catch((function(e){console.log("FROM FORM",e)}))}},validate:function(e){var t={};return""===e.title&&(t.title="Please enter a name for this task"),""===e.description&&(t.description="Please enter a description"),""===e.points&&(t.points="Please a points value from 1 - 20"),(e.points<1||e.points>20)&&(t.points="Points must be between 1 and 20"),t}}),g=h.values,v=h.handleChange,f=h.handleSubmit;return t.isAuthenticated?r.a.createElement("div",{className:"signup-form-container"},r.a.createElement("h1",{className:"heading"},"Create a Task"),r.a.createElement("div",null,r.a.createElement(q,{saveTodo:function(e){var t=e.trim();t.length>0&&o([].concat(Object(L.a)(i),[t]))}}),r.a.createElement(H,{todos:i,deleteTodo:function(e){var t=i.filter((function(t,a){return a!==e}));o(t)}})),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement("h3",{className:"sub-heading no-margin"},"Now add a Name and Description"),r.a.createElement("form",{onSubmit:f,className:"signup-form"},r.a.createElement("div",{className:"signup-form-group"},r.a.createElement("label",{htmlFor:"title"},"Task Name"),r.a.createElement("input",{type:"text",name:"title",onChange:v,value:g.title,required:!0})),r.a.createElement("div",{className:"signup-form-group"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{rows:"4",cols:"50",className:"task-description",name:"description",onChange:v,value:g.description,required:!0})),r.a.createElement("div",{className:"signup-form-group"},r.a.createElement("label",{htmlFor:"points"},"Task Points 1 - 20"),r.a.createElement("input",{type:"number",min:"1",max:"20",name:"points",onChange:v,value:g.points,required:!0})),r.a.createElement("button",{className:"btn",type:"submit"},"Create Task")),r.a.createElement("div",{className:"link"},r.a.createElement(u.a,{to:"../"},"Cancel"))):r.a.createElement("h2",{className:"sub-heading"},"Authenticating...")}a(91);function V(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser;if(Object(n.useEffect)((function(){if(m.isAuthenticated()||Object(u.c)("/login"),!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}})),t.isAuthenticated){t.isOwner||Object(u.c)("/welcome"),t.isOwner[0]||Object(u.c)("/create-household"),t.isOwner[0].challenges[0]||Object(u.c)("/create-challenge"),t.isOwner[0].challenges[0].tasks[0]||Object(u.c)("/TaskForm");var s=t.isOwner[0].challenges[0],l=s.startDate.substring(0,10),c=s.endDate.substring(0,10),i={label:"See Task",link:"/task-details",onclick:function(){},style:"small-secondary"};return r.a.createElement("div",null,r.a.createElement("div",{className:"spacer__vertical-10"}),r.a.createElement("h1",null,"Post Challenge"),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement("h3",{className:"sub-heading"},"Chosen Dates"),r.a.createElement("div",{className:"line__seperator"}),r.a.createElement("div",{className:"spacer__vertical-10"}),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement("h4",{className:"dates"},r.a.createElement("div",{className:"date-container"},r.a.createElement("p",null,"Start Date: ",l),r.a.createElement("div",{className:"spacer__vertical-10"}),r.a.createElement("p",null,"End Date: ",c))),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement("h3",null,"Tasks:"),r.a.createElement("div",{className:"line__seperator"}),r.a.createElement("div",{className:"spacer__vertical-10"}),r.a.createElement("ul",null,s.tasks.map((function(e){return r.a.createElement("li",{key:e._id,className:"list__item-task"},r.a.createElement("p",{className:"list__item-task-name"},e.title),r.a.createElement(v,{btn:i}))}))),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement("div",{className:"line__seperator"}),r.a.createElement("div",{className:"spacer__vertical-10"}),r.a.createElement(v,{btn:{label:"Create Another Task",link:"/create-task",onclick:function(){},style:"secondary"}}),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement(v,{btn:{label:"PostChallenge",link:"#",onclick:function(){},style:"large"}}))}return t.isAuthenticated?(setTimeout((function(){Object(u.c)("/login")}),5e3),r.a.createElement("div",{className:"signup-form-container"},r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement("h3",null,"Sorry! ",r.a.createElement("br",null),"There are some steps you need to complete before this."))):r.a.createElement("div",{className:"signup-form-container"},r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement("h3",null,"Authenticating...."))}a(92);function W(e){var t=e.user,a=e.task,n=a.title,s=a.points,l=a.todos,c=a.description,i=a.status;console.log(t);var o={label:t.isOwner[0]?"Edit Task":"Pick Task",link:"#",onclick:function(){},style:"small-danger"};return r.a.createElement("div",{className:"card__task"},r.a.createElement("div",{className:"card__task-body"},r.a.createElement("div",{className:"card__task-heading-container"},r.a.createElement("h2",{className:"card__task-heading"},n),r.a.createElement("h3",{className:"card__task-points"},s," Points")),r.a.createElement("h4",{className:"card__task-status"},i),r.a.createElement("ul",{className:"card__task-todos"},l.map((function(e,t){return r.a.createElement("li",{key:t,className:"todo-item"},r.a.createElement("label",{className:"checkbox-container"},e,r.a.createElement("input",{type:"checkbox",checked:"checked",readOnly:!0}),r.a.createElement("span",{className:"checkbox-checkmark"})))}))),r.a.createElement("p",{className:"card__task-description"},c)),r.a.createElement(v,{btn:o}))}a(93);function K(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser;if(Object(n.useEffect)((function(){if(m.isAuthenticated()||Object(u.c)("/login"),!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}})),t.isAuthenticated){var s=t.isOwner[0].challenges,l=t.isOwner[0].challenges[s.length-1],c=t.isOwner[0].challenges[0].tasks,i=t.isOwner[0].challenges[0].tasks[c.length-1];return r.a.createElement("div",{className:"container__task-page"},r.a.createElement("h1",{className:"heading"},"Task Details"),r.a.createElement("h2",{className:"sub-heading-task"},r.a.createElement("span",null,i.title),r.a.createElement("div",null,r.a.createElement("span",null,i.points),r.a.createElement("span",null,"Points"))),r.a.createElement("h3",{className:"task-dates"},r.a.createElement("span",null,"Available from: ",l.startDate.substring(0,10)),r.a.createElement("span",{className:"spacer__vertical-10"}),r.a.createElement("span",null,"Expires: ",l.endDate.substring(0,10))),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement(W,{task:i,user:t}),r.a.createElement("div",{className:"spacer__vertical-10"}),r.a.createElement(v,{btn:{link:"/create-task",style:"",label:"Create Another Task"}}))}return r.a.createElement("div",{className:"signup-form-container"},r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement("h3",null,"Authenticating..."))}var Z=a(34),G=a(35),$=a(38),Y=a(36),Q=a(39),X=(a(94),function(e){function t(e){var a;return Object(Z.a)(this,t),(a=Object($.a)(this,Object(Y.a)(t).call(this,e))).onChange=function(e){var t=a.props.suggestions,n=e.currentTarget.value,r=t.filter((function(e){return e.toLowerCase().indexOf(n.toLowerCase())>-1}));a.setState({activeSuggestion:0,filteredSuggestions:r,showSuggestions:!0,userInput:e.currentTarget.value})},a.onClick=function(e){a.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText}),a.props.sendData(a.state.filteredSuggestions[0])},a.onKeyDown=function(e){var t=a.state,n=t.activeSuggestion,r=t.filteredSuggestions;if(13===e.keyCode)a.setState({activeSuggestion:0,showSuggestions:!1,userInput:r[n]});else if(38===e.keyCode){if(0===n)return;a.setState({activeSuggestion:n-1})}else if(40===e.keyCode){if(n-1===r.length)return;a.setState({activeSuggestion:n+1})}},a.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:""},a}return Object(Q.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e,t=this.onChange,a=this.onClick,s=this.onKeyDown,l=this.state,c=l.activeSuggestion,i=l.filteredSuggestions,o=l.showSuggestions,u=l.userInput;return o&&u&&(e=i.length?r.a.createElement("ul",{className:"suggestions"},i.map((function(e,t){var n;return t===c&&(n="suggestion-active"),r.a.createElement("li",{className:n,key:e,onClick:a},e)}))):r.a.createElement("div",{className:"no-suggestions"},r.a.createElement("em",null,"No suggestions, you're on your own!"))),r.a.createElement(n.Fragment,null,r.a.createElement("input",{className:"input__suggestions",type:"text",onChange:t,onKeyDown:s,value:u}),e)}}]),t}(n.Component));X.defaultProps={suggestions:[]};var ee=X;function te(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser,s=Object(n.useState)(!1),l=Object(c.a)(s,2),i=l[0],o=l[1],h=Object(n.useState)([]),g=Object(c.a)(h,2),f=g[0],p=g[1],b=Object(n.useState)(""),O=Object(c.a)(b,2),j=O[0],w=O[1],A=new AbortController;r.a.useEffect((function(){if(t.isAuthenticated||m.isAuthenticated()||Object(u.c)("/login"),!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}C(),A.abort()}),[]);var y=JSON.parse(localStorage.getItem("userObj")).token,S={headers:{Authorization:"Bearer ".concat(y)}},C=function(){var e=Object(N.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,fetch("/api/household-suggestions",S);case 4:if(200!==(t=e.sent).status){e.next=12;break}return e.next=8,t.json();case 8:a=e.sent,Array.isArray(a)?(p(a),o(!1)):console.log(t),e.next=13;break;case 12:console.log(t);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}();if(i)return r.a.createElement("h2",null,"Loading...");var x={label:"Join",onclick:function(){!function(e,t){_.a.put("/api/household/".concat(e),{},t).then((function(e){if(200===e.status){var t=e.data.token,n=Object(k.a)({isAuthenticated:!0},e.data.user,{token:t});a(n),localStorage.setItem("userObj",JSON.stringify(n)),Object(u.c)("/member-welcome")}else console.log("ERROR",e)})).catch((function(e){console.log(e)}))}(j,S)},style:""};return r.a.createElement("div",{className:"container__task-page"},r.a.createElement("h1",null,"Join a household"),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement(ee,{suggestions:f,sendData:function(e){w(e)}}),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement(v,{btn:x}))}function ae(){var e=Object(n.useContext)(d),t=e.user,a=e.setUser;return r.a.useEffect((function(){if(!t.isAuthenticated&&m.isAuthenticated()){var e=m.isAuthenticated();a(e)}t.isAuthenticated||m.isAuthenticated()||Object(u.c)("/login")})),t.isAuthenticated?t.isAuthenticated?r.a.createElement("div",null,r.a.createElement("h1",null,t.isMemberOf[0].title),r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement("h2",null,t.name)):void 0:r.a.createElement("div",null,r.a.createElement("div",{className:"spacer__vertical"}),r.a.createElement("div",null,"Authenticating..."))}function ne(){return r.a.createElement("div",{className:"body-container"},r.a.createElement(g,null),r.a.createElement(o,null,r.a.createElement("div",{className:"scroll"},r.a.createElement(u.b,null,r.a.createElement(f,{path:"/"}),r.a.createElement(p,{path:"/about"}),r.a.createElement(x,{path:"/register"}),r.a.createElement(w,{path:"/login"}),r.a.createElement(D,{path:"/welcome"}),r.a.createElement(P,{path:"/profile"}),r.a.createElement(I,{path:"/create-household"}),r.a.createElement(J,{path:"/members"}),r.a.createElement(F,{path:"/create-challenge"}),r.a.createElement(z,{path:"/create-task"}),r.a.createElement(V,{path:"/post-challenge"}),r.a.createElement(K,{path:"/task-details"}),r.a.createElement(te,{path:"/join-household"}),r.a.createElement(ae,{path:"/member-welcome"})))))}var re=function(){return r.a.createElement("div",{className:"background"},r.a.createElement(h,null,r.a.createElement(ne,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.8e1c3760.chunk.js.map